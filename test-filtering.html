<!DOCTYPE html>
<html>
<head>
    <title>Test Position Filtering Logic</title>
</head>
<body>
    <h1>Test Position Filtering Logic</h1>
    <div id="results"></div>
    
    <script>
        // Helper function to convert position name to responsibility value
        // This must match the nameToResponsibilityValue function in position-utils.ts
        const nameToResponsibilityValue = (positionName) => {
            return positionName
                .toLowerCase()
                .trim()
                .replace(/[()/]/g, ' ') // normalize punctuation
                .replace(/[^a-z0-9]+/g, '-') // non-alphanum to dash
                .replace(/^-+|-+$/g, '') // trim dashes
        }
        
        // Test cases
        const testCases = [
            { positionName: 'Pharmacist', expected: 'pharmacist' },
            { positionName: 'Pharmacy Assistant', expected: 'pharmacy-assistant' },
            { positionName: 'Store Manager', expected: 'store-manager' },
            { positionName: 'Technician (Part-time)', expected: 'technician-part-time' },
            { positionName: 'Front of Store', expected: 'front-of-store' }
        ]
        
        let results = '<h2>Test Results:</h2>'
        
        testCases.forEach(testCase => {
            const actual = nameToResponsibilityValue(testCase.positionName)
            const passed = actual === testCase.expected
            results += `<p style="color: ${passed ? 'green' : 'red'}">
                Position: "${testCase.positionName}" → 
                Expected: "${testCase.expected}" | 
                Actual: "${actual}" | 
                ${passed ? 'PASS' : 'FAIL'}
            </p>`
        })
        
        document.getElementById('results').innerHTML = results
        
        console.log('Position name transformation test results:')
        testCases.forEach(testCase => {
            const actual = nameToResponsibilityValue(testCase.positionName)
            console.log(`${testCase.positionName} → ${actual} (expected: ${testCase.expected})`)
        })
    </script>
</body>
</html>